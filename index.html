<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Trivial Game</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <h1>Totally Trivial Trivial!</h1>
            <br><br>
            </row>
            <div class="container">
                <div class="row">
                    <button class="btn start" value="">Click to Start!</button>
                </div>
                <div class="row">
                    <div id="invisible" class="hide">
                        <div class="time-text"></div>
                        <form name="quizForm">
                            <h3>1. Who is the All-Time Passing Yard Leader?</h3>
                            <input type="radio" name="q1" value="a" id="q1a"> a. Tom Brady<br>
                            <input type="radio" name="q1" value="b" id="q1b"> b. Drew Brees<br>
                            <input type="radio" name="q1" value="c" id="q1c"> c. Peyton Manning<br>
                            <input type="radio" name="q1" value="d" id="q1d"> d. Eli Manning<br>
                            <br><br>
                            <h3>2. Which team has the most Super Bowl titles?</h3>
                            <input type="radio" name="q2" value="a" id="q2a"> a. San Francisco 49ers<br>
                            <input type="radio" name="q2" value="b" id="q2b"> b. New York Giants<br>
                            <input type="radio" name="q2" value="c" id="q2c"> c. Pittsburgh Steelers<br>
                            <input type="radio" name="q2" value="d" id="q2d"> d. Dallas Cowboys<br>
                            <br><br>
                            <h3>3. Which team won Super Bowl LIII?</h3>
                            <input type="radio" name="q3" value="a" id="q3a"> a. Los Angeles Rams<br>
                            <input type="radio" name="q3" value="b" id="q3b"> b. Dallas Cowboys<br>
                            <input type="radio" name="q3" value="c" id="q3c"> c. San Francisco 49ers<br>
                            <input type="radio" name="q3" value="d" id="q3d"> d. New England Patriots<br>
                            <br><br>
                            <input type="submit" class="submit" value="Submit Answers">
                        </form>
                    </div>
                </div>
                <div class="row">
                    <div id="results"></div>
                </div>

            </div>
        </div>

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

        <script>

            $(document).ready(function () {

                var total = 3;
                var correct = 0;
                var incorrect = 0;
                var unanswered = 0;
                var time = 10;
                var intervalId;

                $(".submit").on("click", function () {
                    
                    var q1 = document.forms["quizForm"]["q1"].value;
                    var q2 = document.forms["quizForm"]["q2"].value;
                    var q3 = document.forms["quizForm"]["q3"].value;
                    var answers = ["b", "c", "d"];

                    for (i = 1; i <= total; i++) {
                        if (eval("q" + i) === answers[i - 1]) {
                            correct++;
                        }
                        else if (eval("q" + i) != answers[i - 1]) {
                            incorrect++;
                        };
                        // if (eval("q" + i) != eval("q" + i).value) {
                        //     unanswered++;
                        // }
                    };

                    results()
                });

                $(".start").on("click", function () {
                    $(".start").remove();
                    $("#invisible").toggleClass("show");
                    decrement()
                });

                function results() {
                    $(".submit").remove();
                    $("#invisible").removeClass("show");
                    unanswered = (3-(correct+incorrect));
                    var resultsDiv = $("<div>");
                    var p1 = $("<p>").text("Correct: " + correct);
                    var p2 = $("<p>").text("Incorrect: " + incorrect);
                    var p3 = $("<p>").text("Unanswered: " + unanswered);
                    resultsDiv.append(p1, p2, p3);
                    $("#results").append(resultsDiv);
                }

                function decrement() {
                    clearInterval(intervalId);
                    intervalId = setInterval(decrement, 1000);
                    time --;
                    $(".time-text").html("<h2>" + time + "</h2>");
                    if (time === 0){
                        results();
                    }
                };
            });
        </script>
</body>

</html>